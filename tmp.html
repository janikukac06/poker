<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Póker Tanuló</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: green;
            color: white;
            font-family: Arial, sans-serif;
        }
        .table {
            width: 90%;
            max-width: 600px;
            height: 400px;
            background-color: darkgreen;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            position: relative;
        }
        .player, .ai {
            position: absolute;
            text-align: center;
        }
        .ai {
            top: 30px;
        }
        .player {
            bottom: 30px;
        }
        .pot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        .cards {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        .card {
            width: 50px;
            height: 70px;
            background-color: white;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: black;
            font-weight: bold;
        }
        .player-info {
            margin-top: 5px;
        }
    </style>
    <script>
        // Card definitions
        const suits = ['♥', '♦', '♠', '♣'];
        const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
        let deck = [];
        let playerHand = [];
        let robotHand = [];
        let communityCards = [];
        
        // Create and shuffle the deck
        function initializeDeck() {
            deck = [];
            // Create the deck
            for (let suit of suits) {
                for (let value of values) {
                    deck.push({ suit, value });
                }
            }
            // Shuffle the deck
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
        }

        // Deal cards to players
        function dealCards() {
            // Reset hands and community cards
            playerHand = [];
            robotHand = [];
            communityCards = [];
            
            // Deal 2 cards to each player
            playerHand.push(deck.pop());
            robotHand.push(deck.pop());
            playerHand.push(deck.pop());
            robotHand.push(deck.pop());
            
            // Update the UI
            updatePlayerCards();
            updateRobotCards();
            updateCommunityCards();
        }

        // Deal the flop (first 3 community cards)
        function dealFlop() {
            // Burn a card (discard)
            deck.pop();
            
            // Deal 3 community cards
            for (let i = 0; i < 3; i++) {
                communityCards.push(deck.pop());
            }
            
            updateCommunityCards();
        }

        // Deal the turn (4th community card)
        function dealTurn() {
            // Burn a card
            deck.pop();
            
            // Deal the turn card
            communityCards.push(deck.pop());
            
            updateCommunityCards();
        }

        // Deal the river (5th community card)
        function dealRiver() {
            // Burn a card
            deck.pop();
            
            // Deal the river card
            communityCards.push(deck.pop());
            
            updateCommunityCards();
        }

        // Update player cards in the UI
        function updatePlayerCards() {
            const playerCardElements = document.querySelectorAll('.player .card');
            
            // Show player's cards
            for (let i = 0; i < playerHand.length; i++) {
                const card = playerHand[i];
                const color = (card.suit === '♥' || card.suit === '♦') ? 'red' : 'black';
                playerCardElements[i].innerHTML = `${card.value}${card.suit}`;
                playerCardElements[i].style.color = color;
            }
        }

        // Update robot cards in the UI
        function updateRobotCards() {
            const robotCardElements = document.querySelectorAll('.ai .card');
            
            // Keep the robot's cards hidden
            for (let i = 0; i < robotCardElements.length; i++) {
                robotCardElements[i].innerHTML = '?';
                robotCardElements[i].style.color = 'black';
            }
        }

        // Update community cards in the UI
        function updateCommunityCards() {
            const communityCardElements = document.querySelectorAll('.pot .card');
            
            // Show revealed community cards, keep others hidden
            for (let i = 0; i < communityCardElements.length; i++) {
                if (i < communityCards.length) {
                    const card = communityCards[i];
                    const color = (card.suit === '♥' || card.suit === '♦') ? 'red' : 'black';
                    communityCardElements[i].innerHTML = `${card.value}${card.suit}`;
                    communityCardElements[i].style.color = color;
                } else {
                    communityCardElements[i].innerHTML = '?';
                    communityCardElements[i].style.color = 'black';
                }
            }
        }

        // Start a new game
        function startNewGame() {
            initializeDeck();
            dealCards();
        }

        // Reveal the robot's cards (for learning purposes)
        function revealRobotCards() {
            const robotCardElements = document.querySelectorAll('.ai .card');
            
            for (let i = 0; i < robotHand.length; i++) {
                const card = robotHand[i];
                const color = (card.suit === '♥' || card.suit === '♦') ? 'red' : 'black';
                robotCardElements[i].innerHTML = `${card.value}${card.suit}`;
                robotCardElements[i].style.color = color;
            }
        }

        // Initialize the game when the page loads
        window.onload = function() {
            startNewGame();
            
            // For testing: Deal community cards with these buttons
            // In a real app, these would be connected to UI buttons
            // dealFlop();
            // dealTurn();
            // dealRiver();
            // revealRobotCards();
        };
    </script>
</head>
<body>
    <div class="table">
        <div class="ai">
            <p>Robot: 1000</p>
            <div class="cards">
                <div class="card">?</div>
                <div class="card">?</div>
            </div>
        </div>
        <div class="pot">
            <p>Pot: 0</p>
            <div class="cards">
                <div class="card">?</div>
                <div class="card">?</div>
                <div class="card">?</div>
                <div class="card">?</div>
                <div class="card">?</div>
            </div>
        </div>
        <div class="player">
            <div class="cards">
                <div class="card">?</div>
                <div class="card">?</div>
            </div>
            <p class="player-info">Falatka: 1000</p>
        </div>
    </div>
</body>
</html>
